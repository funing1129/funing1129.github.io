"use strict";(self.webpackChunkangular_ant=self.webpackChunkangular_ant||[]).push([[116],{116:(y,s,g)=>{g.r(s),g.d(s,{LazyImageModule:()=>x});var c=g(4755),m=g(1982),t=g(2223),p=g(3144),d=g(8551),r=g(6681);function u(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"li",8),t.NdJ("click",function(){const l=t.CHM(n).$implicit,P=t.oxw();return t.KtG(P.getDetail(l))}),t._UZ(1,"img",9),t.TgZ(2,"div",10)(3,"span",11),t._uU(4),t.qZA(),t.TgZ(5,"p",12),t._UZ(6,"i",13),t.TgZ(7,"span"),t._uU(8),t.qZA(),t._UZ(9,"i",14),t.TgZ(10,"span"),t._uU(11),t.qZA()()()()}if(2&e){const n=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("src",n.image,t.LSH)("alt",n.name),t.xp6(3),t.Oqu(n.name),t.xp6(4),t.Oqu(i.toFixedOne(n.useNum)),t.xp6(3),t.Oqu(i.toFixedOne(n.collectNum))}}function _(e,o){if(1&e&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"img",17),t.qZA(),t.TgZ(3,"div",18)(4,"div",19),t._uU(5),t.qZA(),t.TgZ(6,"div",20),t._uU(7,"\u53d1\u5e03\u65f6\u95f4\uff1a"),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA()()()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("src",n.detailData.author.headUrl,t.LSH),t.xp6(3),t.Oqu(n.detailData.author.nickName),t.xp6(4),t.Oqu(t.xi3(10,3,n.detailData.createDate,"yyyy\u5e74MM\u6708dd\u65e5"))}}function C(e,o){1&e&&(t.TgZ(0,"div",23)(1,"div",24),t._UZ(2,"img",25),t.qZA(),t.TgZ(3,"div",24),t._UZ(4,"img",25),t.qZA(),t.TgZ(5,"div",24),t._UZ(6,"img",25),t.qZA(),t.TgZ(7,"div",24),t._UZ(8,"img",25),t.qZA(),t.TgZ(9,"div",24),t._UZ(10,"img",25),t.qZA(),t.TgZ(11,"div",24),t._UZ(12,"img",25),t.qZA(),t.TgZ(13,"div",24),t._UZ(14,"img",25),t.qZA()())}function O(e,o){if(1&e&&(t.TgZ(0,"div",21)(1,"div",16),t._UZ(2,"img",9),t.qZA(),t.YNc(3,C,15,0,"div",22),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("src",n.detailData.image,t.LSH)("alt",n.detailData.name),t.xp6(1),t.Q6J("ngIf",!1)}}const h=function(){return{top:"20px"}},M=[{path:"",component:(()=>{class e{constructor(n){this.http=n,this.imgData=[],this.pageNumber=1,this.pageSize=10,this.isSpinning=!1,this.isVisible=!1,this.detailData={}}ngOnInit(){this.getData(this.pageNumber,this.pageSize)}getData(n,i){this.http.get(`https://www.woodo.cn/api/res/template/list/?v=1686276414312&type=template&pageNumber=${n}&pageSize=${i}`).subscribe(a=>{"success"==a.type&&(this.imgData=[...this.imgData,...a.data.list])})}scroll(n){this.isSpinning=!0;let i=n.scrollingElement.scrollTop,a=document.getElementById("scrollElement")?.clientHeight,l=document.body.clientHeight;console.log(a-i-l),a-i-l<=-141&&(++this.pageNumber,setTimeout(()=>{this.getData(this.pageNumber,this.pageSize),this.isSpinning=!1},2e3))}toFixedOne(n){return n>1e3?(n/1e3).toFixed(1)+"k":n}getDetail(n){this.isVisible=!0,this.http.get(`https://www.woodo.cn/api/res/template/detail/?v=${+new Date}&type=template&id=${n.id}&isView=true`).subscribe(i=>{"success"==i.type&&(console.log(i),this.detailData=i.data)}),console.log(n)}handleCancel(){this.isVisible=!1}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lazy-image"]],hostBindings:function(n,i){1&n&&t.NdJ("scroll",function(l){return i.scroll(l.target)},!1,t.evT)},decls:10,vars:8,consts:[[1,"lazy-image"],["id","scrollElement"],[3,"click",4,"ngFor","ngForOf"],[1,"loading"],["nzTip","\u6570\u636e\u52a0\u8f7d\u4e2d...",3,"nzSpinning"],["nzWidth","1280px",3,"nzVisible","nzStyle","nzTitle","nzContent","nzFooter","nzVisibleChange","nzOnCancel"],["tplTitle",""],["tplContent",""],[3,"click"],[3,"src","alt"],[1,"info-box"],[1,"title","text-ellipsis"],[1,"count"],[1,"iconfont","icon-use",2,"font-size","18px"],[1,"iconfont","icon-collect",2,"font-size","18px","margin-left","10px"],[1,"modaltitle"],[1,"img"],["alt","",3,"src"],[1,"msg"],[1,"name"],[1,"time"],[1,"modalcontent"],["class","list",4,"ngIf"],[1,"list"],[1,"item"],["src","","alt",""]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"ul",1),t.YNc(2,u,12,5,"li",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"nz-spin",4),t.qZA()(),t.TgZ(5,"nz-modal",5),t.NdJ("nzVisibleChange",function(l){return i.isVisible=l})("nzOnCancel",function(){return i.handleCancel()}),t.qZA(),t.YNc(6,_,11,6,"ng-template",null,6,t.W1O),t.YNc(8,O,4,3,"ng-template",null,7,t.W1O)),2&n){const a=t.MAs(7),l=t.MAs(9);t.xp6(2),t.Q6J("ngForOf",i.imgData),t.xp6(2),t.Q6J("nzSpinning",i.isSpinning),t.xp6(1),t.Q6J("nzVisible",i.isVisible)("nzStyle",t.DdM(7,h))("nzTitle",a)("nzContent",l)("nzFooter",null)}},dependencies:[c.sg,c.O5,d.du,r.W,c.uU],styles:[".lazy-image[_ngcontent-%COMP%]{background:#fff;padding:20px}.lazy-image[_ngcontent-%COMP%]   .text-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important;display:block}.lazy-image[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{text-align:center}.lazy-image[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.lazy-image[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(33.33% - 13.33px);transition:transform .3s ease}.lazy-image[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:4px}.lazy-image[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{padding-top:7px;display:flex;justify-content:space-between;height:53px;align-items:center;transition:transform .3s ease}.lazy-image[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#5f6063}.lazy-image[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:flex;align-items:center}.lazy-image[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #c8c9cb80;transform:scale(1.06) translateZ(0) translateZ(0);transition:transform .3s ease}.lazy-image[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .info-box[_ngcontent-%COMP%]{height:53px;line-height:53px;padding:0 20px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;background:#fff;box-shadow:0 13px 15px -4px #c8c9cb80}.lazy-image[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{position:relative}.modaltitle[_ngcontent-%COMP%]{display:flex;align-items:center}.modaltitle[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;overflow:hidden}.modaltitle[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.modaltitle[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{color:#242529;margin-left:20px;margin-top:5px}.modaltitle[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.modaltitle[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:12px;color:#949496}.modaltitle[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#242529}.modalcontent[_ngcontent-%COMP%]{width:100%}.modalcontent[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:670px;margin:0 auto}.modalcontent[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.modalcontent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-top:20px}.modalcontent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:235px;height:135px;background:#ccc}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(M),m.Bz]}),e})();var z=g(3786);let x=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,f,z.b]}),e})()}}]);